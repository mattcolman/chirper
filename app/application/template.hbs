<!-- app/application/template.hbs -->

<header>
  <div class="page-container">

    <div class="logo"></div>

    {{#if session.isAuthenticated}}
      <nav>
        {{#link-to "home"}}Home{{/link-to}}

        {{#link-to "user" session.currentUser.username}}
          <img class="avatar" src="/images/avatar.jpg" />
          {{session.currentUser.username}}
        {{/link-to}}

        <button class="chirp" {{action "toggleComposeModal"}}>Chirp</button>
      </nav>
    {{/if}}

  </div>
</header>

{{liquid-outlet}}

{{#if showingComposeModal}}
  {{#modal-dialog translucentOverlay=true close=(action 'toggleComposeModal')}}

    <!-- We want to be able to close the modal by bubbling a "dismiss"-action from the component too -->
    {{compose-modal dismiss=(action 'toggleComposeModal')}}

  {{/modal-dialog}}
{{/if}}
